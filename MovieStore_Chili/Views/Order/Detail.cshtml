@model MovieStore_Chili.Models.Database.Order

@{
    ViewData["Title"] = "Detail";
}

<div class="mt-4">
    <h3 class="text-center text-success"> The Order was successfully completed</h3>
</div>
<div class="mt-3">
    <hr />
    <div class="row">
        <div class="col-sm-2">
            @Html.DisplayNameFor(model => model.OrderDate)
        </div>
        <div class="col-sm-2">
            @Html.DisplayFor(model => model.OrderDate)
        </div>

        <div class="row">
        <div class="col-sm-2">
            Name
        </div>
        <div class="col-sm-6">
            @Html.DisplayFor(model => model.Customer.FirstName)
            @Html.DisplayFor(model => model.Customer.LastName)
        </div>
        </div>

        <div class="row">
        <div class="col-sm-2">
            @Html.DisplayNameFor(model => model.Customer.DeliveryAddress)
        </div>
        <div class="col-sm-6">
            @Html.DisplayFor(model => model.Customer.DeliveryAddress)
        </div>
        </div>

        <div class="row">
        <div class="col-sm-2">
            @Html.DisplayNameFor(model => model.Customer.BillingAddress)
        </div>
        <div class="col-sm-6">
            @Html.DisplayFor(model => model.Customer.BillingAddress)
        </div>
        </div>

        <div class="row">
        <div class="col-sm-2">
            @Html.DisplayNameFor(model => model.Customer.PhoneNumber)
        </div>
        <div class="col-sm-2">
            @Html.DisplayFor(model => model.Customer.PhoneNumber)
        </div>
        </div>
    </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th>
            </th>
            <th>
                Title
            </th>
            <th>
                Director
            </th>
            <th>
                Price
            </th>
        </tr>
    </thead>
    <tbody>

        @{
            decimal total = 0;
        }

        @foreach (var item in Model.OrderRows)
        {
            total = total + item.Price;
            <tr class="mt-3">
                <td>
                    <img style="height:60px;width:80px" src="/Images/@item.Movie.Image">
                    @* @Html.DisplayFor(modelItem => item.Movie.Image) *@
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Movie.Title)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Movie.Director)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Price)
                </td>
            </tr>
        }
        <tr>
            <th colspan="3">
                Total Amount
            </th>
            <th>
                @total
            </th>
        </tr>
    </tbody>
</table>
<h4 class="text-center text-success">Thank you for your order! Your order will be received with in 3 days</h4>